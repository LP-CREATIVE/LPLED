<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Real Estate Digital Signs - Salary Dashboard</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
      line-height: 1.5;
      margin: 0;
      padding: 20px;
      background-color: #f5f5f5;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
    }
    .header {
      text-align: center;
      margin-bottom: 30px;
    }
    .title {
      font-size: 28px;
      font-weight: bold;
      margin-bottom: 5px;
    }
    .subtitle {
      font-size: 18px;
      color: #666;
    }
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 15px;
      margin-bottom: 30px;
    }
    .stat-card {
      background-color: white;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      display: flex;
      align-items: center;
    }
    .icon-container {
      width: 50px;
      height: 50px;
      background-color: #e9f5ff;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 15px;
      font-size: 24px;
    }
    .stat-card p {
      margin: 0;
    }
    .stat-card .value {
      font-size: 24px;
      font-weight: bold;
      margin-top: 5px;
    }
    .dept-tabs {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 20px;
    }
    .dept-tabs button {
      padding: 8px 16px;
      border: none;
      border-radius: 20px;
      cursor: pointer;
      background-color: #e0e0e0;
      transition: all 0.2s;
    }
    .dept-tabs button.active {
      background-color: #0066cc;
      color: white;
    }
    .card {
      background-color: white;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      margin-bottom: 20px;
    }
    .card-title {
      font-size: 18px;
      font-weight: bold;
      margin-bottom: 15px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
    }
    th, td {
      padding: 12px 15px;
      text-align: left;
    }
    th {
      background-color: #f5f5f5;
      font-weight: 600;
    }
    td {
      border-bottom: 1px solid #eee;
    }
    tr:hover {
      background-color: #f9f9f9;
    }
  </style>
</head>
<body>
  <div class="container" id="dashboard">
    <div class="header">
      <h1 class="title">Real Estate Digital Signs</h1>
      <p class="subtitle">Salary & Workforce Dashboard</p>
    </div>

    <!-- Stats cards will be inserted here -->
    <div class="stats-grid" id="stats-grid"></div>

    <!-- Department tabs will be inserted here -->
    <div class="card">
      <div class="card-title">Departments</div>
      <div class="dept-tabs" id="dept-tabs"></div>
      
      <!-- Department details will be shown here -->
      <div id="dept-details"></div>
    </div>

    <!-- Department summary table -->
    <div class="card">
      <div class="card-title">Department Summary</div>
      <table>
        <thead>
          <tr>
            <th>Department</th>
            <th>Positions</th>
            <th>Avg. Salary</th>
            <th>Min. Salary</th>
            <th>Max. Salary</th>
          </tr>
        </thead>
        <tbody id="dept-summary"></tbody>
      </table>
    </div>
  </div>

  <script>
    // Sample data
    const salaryData = [
      {department: "EXECUTIVE", role: "CEO", monthlySalary: 15000, yearlySalary: 180000, jobDescription: "Leads company vision, investor relations, and overall strategy."},
      {department: "EXECUTIVE", role: "COO", monthlySalary: 12500, yearlySalary: 150000, jobDescription: "Oversees daily operations, logistics, and execution of national install strategy."},
      {department: "EXECUTIVE", role: "CFO", monthlySalary: 12500, yearlySalary: 150000, jobDescription: "Manages company finances, forecasting, budgeting, and reporting."},
      {department: "FULFILLMENT", role: "Regional Ops Manager", monthlySalary: 6000, yearlySalary: 72000, jobDescription: "Manages 20‚Äì30 install teams, handles logistics, scheduling, and field ops."},
      {department: "FULFILLMENT", role: "Logistics Coordinator", monthlySalary: 5500, yearlySalary: 66000, jobDescription: "Optimizes install routes, daily dispatch, and coordinates job flow."},
      {department: "FULFILLMENT", role: "Fleet Manager", monthlySalary: 4500, yearlySalary: 54000, jobDescription: "Oversees truck leases, fuel systems, maintenance schedules, DOT compliance."},
      {department: "FULFILLMENT", role: "Install Tech", monthlySalary: 4000, yearlySalary: 48000, jobDescription: "On-site installs, drives leased truck, manages install quality."},
      {department: "FULFILLMENT", role: "Install Assistant", monthlySalary: 3000, yearlySalary: 36000, jobDescription: "Supports lead installer with job site prep, lifting, and coordination."},
      {department: "SUPPORT", role: "Client Success Rep", monthlySalary: 4500, yearlySalary: 54000, jobDescription: "Manages KW agent onboarding, support, and ongoing relationship."},
      {department: "SUPPORT", role: "Tech Support Rep", monthlySalary: 4500, yearlySalary: 54000, jobDescription: "Handles sign-related issues, warranties, and technical customer service."},
      {department: "ADMIN & ORG", role: "Bookkeeper", monthlySalary: 4000, yearlySalary: 48000, jobDescription: "Daily bookkeeping, invoicing, reconciliations, and reporting."},
      {department: "ADMIN & ORG", role: "HR Manager", monthlySalary: 5000, yearlySalary: 60000, jobDescription: "Oversees recruiting, onboarding, compliance, payroll, and employee support."},
      {department: "ADMIN & ORG", role: "Operations Analyst", monthlySalary: 5000, yearlySalary: 60000, jobDescription: "Tracks install metrics, team productivity, cost data, and strategic KPIs."},
      {department: "ADMIN & ORG", role: "Admin Assistant", monthlySalary: 3000, yearlySalary: 36000, jobDescription: "Manages records, scheduling, communications."},
      {department: "ADMIN & ORG", role: "Marketing Manager", monthlySalary: 4000, yearlySalary: 48000, jobDescription: "Runs social media, ads, influencer deals, content strategy."},
      {department: "R&D", role: "Product Manager (App)", monthlySalary: 6000, yearlySalary: 72000, jobDescription: "Leads roadmap, features, and app experience development."},
      {department: "R&D", role: "Software Engineer", monthlySalary: 6750, yearlySalary: 81000, jobDescription: "Builds and maintains app/backend platform, integrations, and internal tools."},
      {department: "WAREHOUSING", role: "Warehouse Manager", monthlySalary: 4500, yearlySalary: 54000, jobDescription: "Oversees daily ops, inventory, logistics."},
      {department: "WAREHOUSING", role: "Operations Associate", monthlySalary: 3000, yearlySalary: 36000, jobDescription: "Handles product movement, receiving, physical tasks."},
      {department: "WAREHOUSING", role: "Operations Associate", monthlySalary: 3000, yearlySalary: 36000, jobDescription: "Handles product movement, receiving, physical tasks."},
      {department: "WAREHOUSING", role: "Operations Associate", monthlySalary: 3000, yearlySalary: 36000, jobDescription: "Handles product movement, receiving, physical tasks."}
    ];

    // Format currency
    function formatCurrency(value) {
      return new Intl.NumberFormat('en-US', {
        style: 'currency',
        currency: 'USD',
        maximumFractionDigits: 0
      }).format(value);
    }

    // Process data
    function processData() {
      // Group by department
      const departmentMap = {};
      
      salaryData.forEach(item => {
        if (!departmentMap[item.department]) {
          departmentMap[item.department] = [];
        }
        departmentMap[item.department].push(item);
      });
      
      // Calculate department statistics
      const departments = [];
      
      for (const [name, roles] of Object.entries(departmentMap)) {
        const salaries = roles.map(r => r.yearlySalary);
        departments.push({
          name,
          roles,
          count: roles.length,
          avgSalary: salaries.reduce((sum, sal) => sum + sal, 0) / roles.length,
          minSalary: Math.min(...salaries),
          maxSalary: Math.max(...salaries)
        });
      }
      
      return departments;
    }

    // Initialize dashboard
    function initDashboard() {
      const departments = processData();
      
      // Calculate overall stats
      const totalRoles = salaryData.length;
      const avgSalary = salaryData.reduce((sum, item) => sum + item.yearlySalary, 0) / salaryData.length;
      const maxSalary = Math.max(...salaryData.map(item => item.yearlySalary));
      
      // Render stats
      document.getElementById('stats-grid').innerHTML = `
        <div class="stat-card">
          <div class="icon-container">üë•</div>
          <div>
            <p>Total Positions</p>
            <p class="value">${totalRoles}</p>
          </div>
        </div>
        <div class="stat-card">
          <div class="icon-container">üíµ</div>
          <div>
            <p>Average Salary</p>
            <p class="value">${formatCurrency(avgSalary)}</p>
          </div>
        </div>
        <div class="stat-card">
          <div class="icon-container">üìà</div>
          <div>
            <p>Highest Salary</p>
            <p class="value">${formatCurrency(maxSalary)}</p>
          </div>
        </div>
        <div class="stat-card">
          <div class="icon-container">üè¢</div>
          <div>
            <p>Departments</p>
            <p class="value">${departments.length}</p>
          </div>
        </div>
      `;
      
      // Render department tabs
      const tabsContainer = document.getElementById('dept-tabs');
      departments.forEach((dept, index) => {
        const button = document.createElement('button');
        button.textContent = dept.name;
        button.className = index === 0 ? 'active' : '';
        button.onclick = () => {
          document.querySelectorAll('#dept-tabs button').forEach(b => b.className = '');
          button.className = 'active';
          showDepartmentDetails(dept);
        };
        tabsContainer.appendChild(button);
      });
      
      // Render department summary table
      const summaryTable = document.getElementById('dept-summary');
      departments.forEach(dept => {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${dept.name}</td>
          <td>${dept.count}</td>
          <td>${formatCurrency(dept.avgSalary)}</td>
          <td>${formatCurrency(dept.minSalary)}</td>
          <td>${formatCurrency(dept.maxSalary)}</td>
        `;
        summaryTable.appendChild(row);
      });
      
      // Show first department by default
      if (departments.length > 0) {
        showDepartmentDetails(departments[0]);
      }
    }
    
    // Show department details
    function showDepartmentDetails(department) {
      const sortedRoles = [...department.roles].sort((a, b) => b.yearlySalary - a.yearlySalary);
      
      let html = `
        <div style="margin-top: 20px; padding-top: 15px; border-top: 1px solid #eee;">
          <div style="margin-bottom: 15px;">
            <p><strong>Average Salary:</strong> ${formatCurrency(department.avgSalary)}</p>
            <p><strong>Salary Range:</strong> ${formatCurrency(department.minSalary)} - ${formatCurrency(department.maxSalary)}</p>
          </div>
          <table>
            <thead>
              <tr>
                <th>Role</th>
                <th>Monthly Salary</th>
                <th>Yearly Salary</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
      `;
      
      sortedRoles.forEach(role => {
        html += `
          <tr>
            <td>${role.role}</td>
            <td>${formatCurrency(role.monthlySalary)}</td>
            <td>${formatCurrency(role.yearlySalary)}</td>
            <td>${role.jobDescription}</td>
          </tr>
        `;
      });
      
      html += `
            </tbody>
          </table>
        </div>
      `;
      
      document.getElementById('dept-details').innerHTML = html;
    }
    
    // Initialize on page load
    window.onload = initDashboard;
  </script>
</body>
</html>
